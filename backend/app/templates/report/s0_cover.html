{# ═══════════════════════════════════════════════════════════════════════════
   S0_COVER — OKŁADKA PREMIUM v2.0  (glassmorphism + mesh gradient)
   WeasyPrint: brak backdrop-filter → symulacja szkła przez rgba + border
   Zmienne kontekstu:
     standard        → ScenarioResponseItem dict
     req             → ScenariosRequest (province, facets[])
     data            → input_data_summary
     generation_date → str
     version         → str
   Filtry: format_pln, format_num
═══════════════════════════════════════════════════════════════════════════ #}

<div class="cover-page" style="
    min-height:     297mm;
    background:     #060E1F;
    display:        flex;
    flex-direction: column;
    position:       relative;
    overflow:       hidden;
    font-family:    'Arial', 'Helvetica Neue', sans-serif;
    padding-top: 12mm;  
">

    {# ════════════════════════════════════════════════════════════════════
       MESH GRADIENT BACKGROUND — warstwy kolorowych plam (WeasyPrint safe)
    ════════════════════════════════════════════════════════════════════ #}

    {# Wielka niebieska plama — lewy górny #}
    <div style="
        position: absolute; top: -60mm; left: -40mm;
        width: 180mm; height: 180mm;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(0,120,200,0.55) 0%, rgba(0,60,130,0.20) 55%, transparent 80%);
        pointer-events: none;
    "></div>

    {# Cyjanowa plama — prawy środek #}
    <div style="
        position: absolute; top: 30mm; right: -30mm;
        width: 140mm; height: 140mm;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(0,200,220,0.40) 0%, rgba(0,150,180,0.15) 55%, transparent 80%);
        pointer-events: none;
    "></div>

    {# Złota plama solarna — prawa dolna #}
    <div style="
        position: absolute; bottom: -20mm; right: 20mm;
        width: 110mm; height: 110mm;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(212,172,13,0.38) 0%, rgba(180,120,0,0.12) 55%, transparent 80%);
        pointer-events: none;
    "></div>

    {# Ciemnoniebieska plama — lewy dół #}
    <div style="
        position: absolute; bottom: 10mm; left: -30mm;
        width: 120mm; height: 100mm;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(14,60,120,0.55) 0%, transparent 70%);
        pointer-events: none;
    "></div>

    {# Subtelna siatka punktów — tekstura głębi #}
    <div style="
        position: absolute; inset: 0;
        background-image: radial-gradient(rgba(255,255,255,0.04) 1px, transparent 1px);
        background-size: 18px 18px;
        pointer-events: none;
    "></div>

    {# ════════════════════════════════════════════════════════════════════
       GŁÓWNA ZAWARTOŚĆ — układ flex kolumna, padding A4
    ════════════════════════════════════════════════════════════════════ #}
    <div style="
        position:       relative;
        z-index:        10;
        display:        flex;
        flex-direction: column;
        flex:           1;
        padding:        14mm 18mm 12mm;
    ">

        {# ── HEADER: Logo ────────────────────────────────────────────── #}
        <div style="
            display:         flex;
            justify-content: space-between;
            align-items:     center;
            margin-bottom:   5mm;
        ">
            {# Logo Soolevo — elegancka biała typografia, bez ikony #}
            <div style="display: flex; align-items: center; gap: 8px;">
                <span style="
                    font-size:      16pt;
                    font-weight:    900;
                    color:          white;
                    letter-spacing: -0.03em;
                ">Soolevo</span>
            </div>
        </div>


        {# ── TYTUŁ GŁÓWNY ────────────────────────────────────────────── #}
        <div style="margin-bottom: 10mm; flex-shrink: 0;">

            {# Tytuł — ultra bold #}
            <div style="
                font-size:      30pt;
                font-weight:    900;
                color:          white;
                line-height:    1.05;
                letter-spacing: -0.03em;
                margin-bottom:  5mm;
            ">Raport<br>Fotowoltaiczny</div>

            {# Podtytuł #}
            <div style="
                font-size:      11pt;
                font-weight:    400;
                color:          rgba(180,210,240,0.80);
                line-height:    1.5;
                max-width:      120mm;
            ">Analiza techniczno-finansowa<br>instalacji PV dla Twojego domu</div>
        </div>


        {# ── TRZY SZKLANE KAFLE KPI ──────────────────────────────────── #}
        <div style="
            display:               grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap:                   5mm;
            margin-bottom:         10mm;
        ">

            {# KPI 1 — Moc systemu (kWp) #}
            <div style="
                background:    rgba(255,255,255,0.07);
                border:        1px solid rgba(255,255,255,0.15);
                border-top:    2px solid rgba(0,200,220,0.60);
                border-radius: 10px;
                padding:       6mm 5mm;
                text-align:    center;
            ">
                <div style="
                    font-size:      7pt;
                    font-weight:    700;
                    color:          rgba(0,220,240,0.75);
                    text-transform: uppercase;
                    letter-spacing: .12em;
                    margin-bottom:  3mm;
                ">Moc systemu</div>
                <div style="
                    font-size:      22pt;
                    font-weight:    900;
                    color:          white;
                    line-height:    1.0;
                    letter-spacing: -0.02em;
                ">{% if standard and standard.total_power_kwp %}{{ "%.2f" | format(standard.total_power_kwp) }}{% else %}—{% endif %}</div>
                <div style="
                    font-size:      9pt;
                    font-weight:    600;
                    color:          rgba(0,220,240,0.60);
                    margin-top:     1mm;
                ">kWp</div>
                <div style="
                    margin-top:     3mm;
                    font-size:      7pt;
                    color:          rgba(255,255,255,0.40);
                ">{% if standard and standard.panels_count %}{{ standard.panels_count }} paneli{% endif %}</div>
            </div>

            {# KPI 2 — Koszt inwestycji #}
            <div style="
                background:    rgba(255,255,255,0.07);
                border:        1px solid rgba(255,255,255,0.15);
                border-top:    2px solid rgba(212,172,13,0.70);
                border-radius: 10px;
                padding:       6mm 5mm;
                text-align:    center;
            ">
                <div style="
                    font-size:      7pt;
                    font-weight:    700;
                    color:          rgba(212,172,13,0.80);
                    text-transform: uppercase;
                    letter-spacing: .12em;
                    margin-bottom:  3mm;
                ">Koszt instalacji</div>
                <div style="
                    font-size:      {% if standard and standard.pv_cost_gross_pln and standard.pv_cost_gross_pln > 99999 %}16pt{% else %}22pt{% endif %};
                    font-weight:    900;
                    color:          white;
                    line-height:    1.0;
                    letter-spacing: -0.02em;
                ">{% if standard and standard.pv_cost_gross_pln %}{{ standard.pv_cost_gross_pln | format_pln }}{% else %}—{% endif %}</div>
                <div style="
                    font-size:      8pt;
                    font-weight:    600;
                    color:          rgba(212,172,13,0.55);
                    margin-top:     1mm;
                ">brutto</div>
                <div style="
                    margin-top:     3mm;
                    font-size:      7pt;
                    color:          rgba(255,255,255,0.40);
                ">wariant Standard</div>
            </div>

            {# KPI 3 — Zwrot inwestycji #}
            <div style="
                background:    rgba(255,255,255,0.07);
                border:        1px solid rgba(255,255,255,0.15);
                border-top:    2px solid rgba(46,200,100,0.65);
                border-radius: 10px;
                padding:       6mm 5mm;
                text-align:    center;
            ">
                <div style="
                    font-size:      7pt;
                    font-weight:    700;
                    color:          rgba(46,200,100,0.80);
                    text-transform: uppercase;
                    letter-spacing: .12em;
                    margin-bottom:  3mm;
                ">Zwrot inwestycji</div>
                <div style="
                    font-size:      22pt;
                    font-weight:    900;
                    color:          white;
                    line-height:    1.0;
                    letter-spacing: -0.02em;
                ">{% if standard and standard.pv_payback_years %}{{ standard.pv_payback_years | round(1) }}{% else %}—{% endif %}</div>
                <div style="
                    font-size:      9pt;
                    font-weight:    600;
                    color:          rgba(46,200,100,0.60);
                    margin-top:     1mm;
                ">lat</div>
                <div style="
                    margin-top:     3mm;
                    font-size:      7pt;
                    color:          rgba(255,255,255,0.40);
                ">{% if standard and standard.pv_total_savings_25y_pln %}zysk 25 lat: {{ standard.pv_total_savings_25y_pln | format_pln }}{% endif %}</div>
            </div>

        </div>{# /kpi grid #}


        {# ── SEPARATOR — linia dekoracyjna #}
        <div style="
            height:        1px;
            background:    linear-gradient(to right, rgba(255,255,255,0.03), rgba(255,255,255,0.18), rgba(255,255,255,0.03));
            margin-bottom: 8mm;
            flex-shrink:   0;
        "></div>


        {# ── SPIS TREŚCI — szklana karta, numerowany list #}
        <div style="
            background:    rgba(255,255,255,0.05);
            border:        1px solid rgba(255,255,255,0.12);
            border-radius: 10px;
            padding:       6mm 7mm;
            flex-shrink:   0;
        ">
            <div style="
                font-size:      7.5pt;
                font-weight:    700;
                color:          rgba(255,255,255,0.40);
                text-transform: uppercase;
                letter-spacing: .14em;
                margin-bottom:  5mm;
            ">Spis treści</div>

            <div style="display:grid; grid-template-columns:1fr 1fr; gap:2.5mm 8mm;">

                {# Pozycje TOC — lewa kolumna #}
                <div>
                    {% for num, title in [
                        ('01', 'Werdykt i rekomendacja'),
                        ('02', 'Scenariusz Standard'),
                        ('03', 'Porównanie wariantów'),
                        ('04', 'Wizualizacje energetyczne'),
                        ('05', 'Analiza finansowa'),
                    ] %}
                    <div style="
                        display:       flex;
                        align-items:   center;
                        gap:           4mm;
                        padding:       2.5mm 0;
                        border-bottom: 1px solid rgba(255,255,255,0.06);
                    ">
                        <span style="
                            font-size:      7.5pt;
                            font-weight:    900;
                            color:          rgba(0,200,220,0.60);
                            letter-spacing: .05em;
                            min-width:      8mm;
                            flex-shrink:    0;
                        ">{{ num }}</span>
                        <span style="
                            font-size:      8.5pt;
                            font-weight:    500;
                            color:          rgba(255,255,255,0.70);
                            line-height:    1.3;
                        ">{{ title }}</span>
                    </div>
                    {% endfor %}
                </div>

                {# Pozycje TOC — prawa kolumna #}
                <div>
                    {% for num, title in [
                        ('06', 'Ostrzeżenia i uwagi'),
                        ('07', 'Dotacje i ulgi 2026'),
                        ('08', 'Proces instalacji'),
                        ('09', 'Specyfikacja techniczna'),
                        ('10', 'Zastrzeżenia prawne'),
                    ] %}
                    <div style="
                        display:       flex;
                        align-items:   center;
                        gap:           4mm;
                        padding:       2.5mm 0;
                        border-bottom: 1px solid rgba(255,255,255,0.06);
                    ">
                        <span style="
                            font-size:      7.5pt;
                            font-weight:    900;
                            color:          rgba(0,200,220,0.60);
                            letter-spacing: .05em;
                            min-width:      8mm;
                            flex-shrink:    0;
                        ">{{ num }}</span>
                        <span style="
                            font-size:      8.5pt;
                            font-weight:    500;
                            color:          rgba(255,255,255,0.70);
                            line-height:    1.3;
                        ">{{ title }}</span>
                    </div>
                    {% endfor %}
                </div>

            </div>
        </div>{# /spis treści #}


        {# ── STOPKA OKŁADKI ──────────────────────────────────────────── #}
        <div style="
            margin-top:      auto;
            padding-top:     6mm;
            display:         flex;
            justify-content: space-between;
            align-items:     flex-end;
            flex-shrink:     0;
        ">

            {# Data generowania #}
            <div style="display:flex; flex-direction:column; gap:1.5mm;">
                <div style="
                    display:    flex;
                    align-items:center;
                    gap:        3mm;
                    font-size:  7.5pt;
                    color:      rgba(255,255,255,0.45);
                ">
                    <span style="
                        width:5px; height:5px; border-radius:50%;
                        background:rgba(46,200,100,0.50); flex-shrink:0;
                    "></span>
                    Wygenerowano: {{ generation_date }}
                </div>
            </div>

            {# Podpis — Soolevo branding #}
            <div style="text-align:right;">
                <div style="
                    font-size:      9pt;
                    font-weight:    900;
                    color:          white;
                    letter-spacing: -0.01em;
                    margin-bottom:  1mm;
                ">Soolevo</div>
                <div style="
                    font-size:      7pt;
                    color:          rgba(255,255,255,0.30);
                    letter-spacing: .06em;
                ">soolevo.com · v{{ version }}</div>
            </div>

        </div>{# /stopka #}

    </div>{# /main content #}

    {# ── Dekoracyjna linia dolna — złoty akcent ─────────────────── #}
    <div style="
        position:   absolute;
        bottom:     0; left: 0; right: 0;
        height:     3px;
        background: linear-gradient(to right, transparent, #D4AC0D 30%, #00C8DC 70%, transparent);
        z-index:    20;
    "></div>

</div>{# /cover-page #}